<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API</title>
</head>
<body style="background-color: #212121; color: aliceblue;">
    <!-- //-----------------XML http-Request Web API-----------------  -->
    <!-- 0 (UNSENT) => Client has been created. open() not called yet. 
    1 (OPENED) => open() has been called.
    2 (HEADERS_RECEIVED) => send() has been called, and headers and status are available.
    3 (LOADING) => Downloading; responseText holds partial data.
    4 (DONE) => The operation is complete. -->

    <div id="main-div"></div>

    <script>
        // const requestUrl='https://api.github.com/users/sanjaraiy';
        // //------XMLHttpRequest() is almost class hai----------
        // const xhr= new XMLHttpRequest() //create a new or fresh object from this class(XMLHttpRequest)
        //  xhr.open('GET',requestUrl);
        //  xhr.onreadystatechange=function(){
        //      console.log(xhr.readyState);
        //      if(xhr.readyState===4){
        //         const data=JSON.parse(this.responseText);
        //         console.log(data.followers);
        //      }
        // }
        // //  console.log(xhr.readyState);
        // //  console.log("HERE");
        //  xhr.send();


        //-------------------------------Example--------------------
        
        //  let image;
        //  let followers;
         const requestUrl='https://api.github.com/users/sanjaraiy';
         const xhr = new XMLHttpRequest();
         xhr.open('GET',requestUrl);
         xhr.onreadystatechange=function(){
         if(xhr.readyState===4){
            data=JSON.parse(this.responseText);
            console.log(data)
            let image=data.avatar_url;
            let followers=data.followers;
            const div=document.querySelector('#main-div');
           div.style.width='500px';
           div.style.height='600px';
           div.style.border='2px solid';
      
         const h1=document.createElement('h1');
         div.innerHTML=`<img src=${image}/>`;
         h1.innerText=`Followers: ${followers}`;
         div.appendChild(h1);
        }
       }
       xhr.send();
   

       
      
    </script>
</body>
</html>